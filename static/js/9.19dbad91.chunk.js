(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[9],{382:function(e,t,c){e.exports={openChatButton:"Chat_openChatButton__11ZJK",chat:"Chat_chat__3RTFe",minimizeChatButton:"Chat_minimizeChatButton__M3pyA",messagesBlock:"Chat_messagesBlock__3ROW5",messageBlock:"Chat_messageBlock__2DozN",chatPhoto:"Chat_chatPhoto__IxbXd",chatMessage:"Chat_chatMessage__36B8h",chatMessageForm:"Chat_chatMessageForm__2hE4_",chatMessageFormInputs:"Chat_chatMessageFormInputs__1O0Ov"}},480:function(e,t,c){"use strict";c.r(t);var a=c(381),s=c(6),n=c(0),r=c.n(n),i=c(28),j=c(183),o=c(151),h=c(484),l=c(185),u=c(61),b=c(199),O=c(310),d=c(311),m=c(383),x=c.n(m),g=c(102),p=c(382),f=c.n(p),_=c(43),v=c(2),C=function(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),c=t[0],a=t[1],r=Object(i.c)(),o=Object(i.d)((function(e){return e.chat.status}));return Object(n.useEffect)((function(){return r(Object(j.c)()),function(){r(Object(j.d)())}}),[]),Object(v.jsxs)("div",{children:["error"===o&&Object(v.jsx)("div",{children:"Some error occured. Please refresh the page."}),c?Object(v.jsx)("div",{className:f.a.openChatButton,children:Object(v.jsx)(u.a,{title:"Chat",children:Object(v.jsx)(b.a,{type:"primary",onClick:function(){a(!1)},size:"large",icon:Object(v.jsx)(h.a,{}),children:"Chat"})})}):Object(v.jsxs)("div",{className:f.a.chat,children:[Object(v.jsx)("div",{className:f.a.minimizeChatButton,children:Object(v.jsx)(u.a,{title:"Minimize chat",children:Object(v.jsx)(b.a,{type:"primary",onClick:function(){a(!0)},size:"small",icon:Object(v.jsx)(l.a,{})})})}),Object(v.jsx)(k,{}),Object(v.jsx)(M,{})]})]})},k=function(e){Object(a.a)(e);var t=Object(i.d)((function(e){return e.chat.messages})),c=Object(n.useRef)(null),r=Object(n.useState)(!0),j=Object(s.a)(r,2),o=j[0],h=j[1];return Object(n.useEffect)((function(){var e;o&&(null===(e=c.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[t]),Object(v.jsxs)("div",{className:f.a.messagesBlock,onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<150?!o&&h(!0):o&&h(!1)},children:[t.map((function(e,t){return Object(v.jsx)(B,{message:e},e.id)})),Object(v.jsx)("div",{ref:c})]})},B=r.a.memo((function(e){var t=e.message;return Object(v.jsx)("div",{className:f.a.messageBlock,children:Object(v.jsxs)(O.a,{children:[Object(v.jsx)(d.a,{className:f.a.chatPhoto,span:5,children:Object(v.jsx)(_.c,{to:"/profile/"+t.userId,children:Object(v.jsx)("img",{src:t.photo?t.photo:g.a})})}),Object(v.jsxs)(d.a,{className:f.a.chatMessage,span:19,children:[Object(v.jsx)("b",{children:t.userName}),Object(v.jsx)("div",{children:t.message})]})]})})})),M=function(e){Object(a.a)(e);var t=Object(n.useState)(""),c=Object(s.a)(t,2),r=c[0],o=c[1],h=Object(i.c)(),l=Object(i.d)((function(e){return e.chat.status})),u=function(){r&&(h(Object(j.b)(r)),o(""))};return Object(v.jsx)("div",{className:f.a.chatMessageForm,children:Object(v.jsxs)(O.a,{align:"middle",children:[Object(v.jsx)(d.a,{span:18,children:Object(v.jsx)(x.a,{className:f.a.chatMessageFormInputs,maxLength:100,onPressEnter:u,onChange:function(e){return o(e.currentTarget.value)},value:r})}),Object(v.jsx)(d.a,{span:6,children:Object(v.jsx)(b.a,{className:f.a.chatMessageFormInputs,type:"primary",disabled:"ready"!==l,onClick:u,children:"Send"})})]})})};t.default=Object(o.a)((function(){return Object(v.jsx)("div",{children:Object(v.jsx)(C,{})})}))}}]);
//# sourceMappingURL=9.19dbad91.chunk.js.map